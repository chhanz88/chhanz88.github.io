<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>kubernetes | chhanz 기술 블로그
</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://chhanz88.github.io/post/tags/kubernetes/">
<link crossorigin="anonymous" href="/post/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<link rel="icon" type="image/png" href="https://chhanz88.github.io/post/favicon.ico">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://chhanz88.github.io/post/tags/kubernetes/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="kubernetes" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://chhanz88.github.io/post/tags/kubernetes/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="kubernetes"/>
<meta name="twitter:description" content=""/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chhanz88.github.io/post/" accesskey="h" title="chhanz 기술 블로그
 (Alt + H)">chhanz 기술 블로그
</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chhanz88.github.io/post/archives" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/post/links/" title="Links">
                    <span>Links</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/post/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/post/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    kubernetes
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Kustomize 
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Kustomize 란? Kustomize 설치 Completion 설정 Kustomize 기본  Kustomize build Run kustomize resources 추가 patch prefix/label secretGenerator 이용 overlay 적용   참고 자료  Kustomize 란? Kustomize는 쿠버네티스 구성을 사용자 정의화하는 도구이다. 이는 애플리케이션 구성 파일을 관리하기 위해 다음 기능들을 가진다.
 다른 소스에서 리소스 생성 리소스에 대한 교차 편집 필드 설정 리소스 집합을 구성하고 사용자 정의
(https://kubernetes.io/ko/docs/tasks/manage-kubernetes-objects/kustomization/#kustomize-%EA%B0%9C%EC%9A%94 발췌)  개인적으론 Helm 보다 Kustomize 가 사용하기 좋았다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-12-01 00:00:00 +0000 UTC'>December 1, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Kustomize " href="https://chhanz88.github.io/post/post/2021-12-01-kustomize/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] HTTPS ingress 적용 (use prometheus)
    </h2>
  </header>
  <div class="entry-content">
    <p>HTTPS ingress 적용 이전에 배포한 kube-prometheus 의 ingress 를 TLS 적용하여 HTTPS 로 서비스 해보도록 하겠습니다.
TLS 방식 Kubernetes 에서 사용이 가능한 TLS 방식은 아래와 같습니다.
아래 내용은 OpenShift 기준으로 작성된 내용이지만 이해하기 좋아서 첨부합니다.
  Clear 방식 (clear to clear) : 일반적인 HTTP 서비스 Edge 방식 (TLS to clear) : client 와 ingress 구간을 TLS 암호화하는 방식 Re-encrypt 방식 (TLS1 to TLS2) : ingress 기점으로 TLS 암호화를 다르게 하는 방식(두번의 TLS 암호화) Pass-Through 방식 (TLS1 to TLS1) : Application 단에서 TLS 암호화 처리하는 방식   TLS 적용 위의 설명된 방식중 Edge 방식을 적용 해보도록 하겠습니다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-08 00:00:00 +0000 UTC'>November 8, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] HTTPS ingress 적용 (use prometheus)" href="https://chhanz88.github.io/post/post/2021-11-08-kube-tls-edge/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] kube-prometheus 배포 (use storageclass)
    </h2>
  </header>
  <div class="entry-content">
    <p>kube-prometheus 배포 Kubernetes cluster 를 모니터링 하기 위해 Prometheus 를 구성하고 사용하려고 한다.
Prometheus 에는 다양한 배포 방법이 있으나 이번 글에선 kube-prometheus 를 이용하여 Kubernetes Cluster 에 배포 해보도록 한다.
Kubernetes Cluster 정보 사용된 Kubernetes Cluster 환경은 아래와 같습니다.
root@node1:~# kubectl get nodes -o wide NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME node1 Ready control-plane,master 41d v1.20.7 192.168.200.26 &lt;none&gt; Ubuntu 20.04.2 LTS 5.4.0-80-generic cri-o://1.20.3 node2 Ready control-plane,master 41d v1....</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-30 00:00:00 +0000 UTC'>September 30, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] kube-prometheus 배포 (use storageclass)" href="https://chhanz88.github.io/post/post/2021-09-30-deploy-kube-prometheus/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Update App (Rolling Update / Rollback)
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Update APP 이 문서는 Rolling Update / Rollback APP 에 대한 방법을 포함하고 있습니다.
Update Source 아래와 같이 Source 를 UPDATE 가 되었습니다....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-28 00:00:00 +0000 UTC'>September 28, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Update App (Rolling Update / Rollback)" href="https://chhanz88.github.io/post/post/2020-09-28-update-app/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Scale App (kubectl scale)
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Scale APP 이 문서는 Pod 을 Scale-out 하는 방법에 대해 포함되어 있습니다.
Scale 개요  Before  After...</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-27 00:00:00 +0000 UTC'>September 27, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Scale App (kubectl scale)" href="https://chhanz88.github.io/post/post/2020-09-27-scale-app/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Expose App (Service 생성)
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Expose APP 이 문서는 Service 생성에 대해 포함된 문서입니다.
Service 란? Kubernetes Pod 들은 언젠가는 죽게됩니다....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-25 00:00:00 +0000 UTC'>September 25, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Expose App (Service 생성)" href="https://chhanz88.github.io/post/post/2020-09-25-expose-app/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] App 확인 (Pod 확인)
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Check The Pod 이 문서는 Pod 를 확인하는 방법에 대해 포함되어 있습니다.
Kubernetes Pod 앞선 Create the Deployment 를 통해 Deployment 가 생성이 되고 나면...</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-24 00:00:00 +0000 UTC'>September 24, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] App 확인 (Pod 확인)" href="https://chhanz88.github.io/post/post/2020-09-24-check-the-app/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Node 상태 확인
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Check The Node 이 문서는 Kubernetes Node 를 확인하는 방법에 대해 포함되어 있습니다.
Kubernetes Node Kubernetes Node 는 최소한 다음과 같이 동작합니다....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-24 00:00:00 +0000 UTC'>September 24, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Node 상태 확인" href="https://chhanz88.github.io/post/post/2020-09-24-check-the-node/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Deployment 생성
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Build APP - Container image Deploy APP  Build APP Create The Deployment   Check APP  Check The Node Check The APP   Expose APP  Expose APP - NodePort   Scale APP  Scale APP   Update APP  Update APP - Rolling Update/Rollback    Create the Deployment 이 문서는 Kubernetes 의 Deployment 를 생성하는 방법에 대해 포함되어 있습니다.
Deployment 란?...</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-23 00:00:00 +0000 UTC'>September 23, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Deployment 생성" href="https://chhanz88.github.io/post/post/2020-09-23-create-deployment/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Ansible 으로 k3s 배포하기 (on VMware)
    </h2>
  </header>
  <div class="entry-content">
    <p>Ansible 을 이용하여 k3s 배포해보자 Ansible.fast-k3s 란? 저는 평소엔 사내 교육이나 테스트를 위해 주로 Minikube 를 이용하였습니다.
Minikube 도 Linux laptop 인지 Windows (version) laptop 인지 Mac 인지 확인해서 설치를 가이드 해야되는 불편함이 있었습니다.
그래서 VMware (vCenter) 에 생성되어 있는 Template 를 이용하여 자동으로 Kubernetes 테스트 환경을 만드는 Playbook 을 만들었습니다.
Requirements  현재는 VMware 만 VM Provisioning 하도록 만들어져 있습니다. 향후에 필요하다면 KVM / RHV / oVirt 등 개발 예정입니다....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-05 00:00:00 +0000 UTC'>September 5, 2020</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Ansible 으로 k3s 배포하기 (on VMware)" href="https://chhanz88.github.io/post/post/2020-09-05-fast-k3s-use-ansible/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://chhanz88.github.io/post/tags/kubernetes/page/2/">Next Page »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chhanz88.github.io/post/">chhanz 기술 블로그
</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
