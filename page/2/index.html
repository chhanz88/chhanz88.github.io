<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.94.2" /><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>chhanz 기술 블로그
</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://chhanz88.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://chhanz88.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://chhanz88.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://chhanz88.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://chhanz88.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://chhanz88.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://chhanz88.github.io/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="chhanz 기술 블로그
" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://chhanz88.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="chhanz 기술 블로그
"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "chhanz 기술 블로그\n",
  "url": "https://chhanz88.github.io",
  "description": "",
  "thumbnailUrl": "https://chhanz88.github.io/%3Clink%20/%20abs%20url%3E",
  "sameAs": [
      "https://twitter.com/", "https://stackoverflow.com", "https://github.com/"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chhanz88.github.io" accesskey="h" title="chhanz 기술 블로그
 (Alt + H)">chhanz 기술 블로그
</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chhanz88.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://example.org" title="example.org">
                    <span>example.org</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[OpenStack] [Preview] OpenStack Dashboard - Skyline
    </h2>
  </header>
  <div class="entry-content">
    <p>흥미 최근 OpenStack 커뮤니티 그룹에서 올라온 글을 보고 기존에 Horizon 의 약한 부분에 대해 매우 아쉬움을 가지고 있던 저는 매우 흥미를 느끼며 이 포스팅을 작성하게 되었습니다.
Preview 이 흥미로운 Project 는 Skyline 이라는 이름의 새로운 OpenStack Dashboard Project 입니다.
(https://wiki.openstack.org/wiki/Skyline#Description)
Install 테스트에 활용된 OpenStack 환경은 아래와 같습니다.
* OpenStack wallaby (all-in-one version) [deploy tool `kolla-ansible`] * ubuntu 20.04 Skyline 에서 사용될 User 를 생성합니다.
(osp) root@u-node-1:/etc/kolla# openstack user create --domain default --password-prompt skyline User Password: Repeat User Password: &#43;---------------------&#43;----------------------------------&#43; | Field | Value | &#43;---------------------&#43;----------------------------------&#43; | domain_id | default | | enabled | True | | id | 1bd73a672fa343569fa4d771eb3f0d23 | | name | skyline | | options | {} | | password_expires_at | None | &#43;---------------------&#43;----------------------------------&#43; Service 프로젝트에 skyline 계정 Admin role 을 추가합니다....</p>
  </div>
  <footer class="entry-footer"><span title='2022-01-17 00:00:00 +0000 UTC'>January 17, 2022</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [OpenStack] [Preview] OpenStack Dashboard - Skyline" href="https://chhanz88.github.io/post/2022-01-17-openstack-dashboard-skyline/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] Kustomize 
    </h2>
  </header>
  <div class="entry-content">
    <p>목차  Kustomize 란? Kustomize 설치 Completion 설정 Kustomize 기본  Kustomize build Run kustomize resources 추가 patch prefix/label secretGenerator 이용 overlay 적용   참고 자료  Kustomize 란? Kustomize는 쿠버네티스 구성을 사용자 정의화하는 도구이다. 이는 애플리케이션 구성 파일을 관리하기 위해 다음 기능들을 가진다.
 다른 소스에서 리소스 생성 리소스에 대한 교차 편집 필드 설정 리소스 집합을 구성하고 사용자 정의
(https://kubernetes.io/ko/docs/tasks/manage-kubernetes-objects/kustomization/#kustomize-%EA%B0%9C%EC%9A%94 발췌)  개인적으론 Helm 보다 Kustomize 가 사용하기 좋았다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-12-01 00:00:00 +0000 UTC'>December 1, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] Kustomize " href="https://chhanz88.github.io/post/2021-12-01-kustomize/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] HTTPS ingress 적용 (use prometheus)
    </h2>
  </header>
  <div class="entry-content">
    <p>HTTPS ingress 적용 이전에 배포한 kube-prometheus 의 ingress 를 TLS 적용하여 HTTPS 로 서비스 해보도록 하겠습니다.
TLS 방식 Kubernetes 에서 사용이 가능한 TLS 방식은 아래와 같습니다.
아래 내용은 OpenShift 기준으로 작성된 내용이지만 이해하기 좋아서 첨부합니다.
  Clear 방식 (clear to clear) : 일반적인 HTTP 서비스 Edge 방식 (TLS to clear) : client 와 ingress 구간을 TLS 암호화하는 방식 Re-encrypt 방식 (TLS1 to TLS2) : ingress 기점으로 TLS 암호화를 다르게 하는 방식(두번의 TLS 암호화) Pass-Through 방식 (TLS1 to TLS1) : Application 단에서 TLS 암호화 처리하는 방식   TLS 적용 위의 설명된 방식중 Edge 방식을 적용 해보도록 하겠습니다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-08 00:00:00 +0000 UTC'>November 8, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] HTTPS ingress 적용 (use prometheus)" href="https://chhanz88.github.io/post/2021-11-08-kube-tls-edge/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[OpenStack] kolla-ansible 을 이용하여 OpenStack multinode 배포 (wallaby)
    </h2>
  </header>
  <div class="entry-content">
    <p>kolla-ansible 이란? Kolla-Ansible 은 Docker 컨테이너에 OpenStack 서비스 및 인프라 구성 요소를 배포하는 Tool 이며, OpenStack 클라우드 운영을 위한 프로덕션 준비 컨테이너 및 배포 도구를 제공합니다.
deploy openstack venv 환경 설정 python venv 환경을 아래와 같이 생성합니다.
root@u-node-0:~# python3 -m venv osp root@u-node-0:~# . osp/bin/activate requirement module 설치 (osp) root@u-node-0:~# pip install -U pip (osp) root@u-node-0:~# pip install &#39;ansible&lt;3.0&#39; kolla-ansible 설치 (osp) root@u-node-0:~# pip install kolla-ansible kolla-ansible config 아래와 같이 config 및 inventory template 를 copy 하고 ansible 설정을 합니다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-22 00:00:00 +0000 UTC'>October 22, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [OpenStack] kolla-ansible 을 이용하여 OpenStack multinode 배포 (wallaby)" href="https://chhanz88.github.io/post/2021-10-22-deploy-osp-wallaby-kolla-ansible/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[OpenStack] kolla-build 를 이용한 kolla image build (wallaby)
    </h2>
  </header>
  <div class="entry-content">
    <p>Registry kolla-build 를 통해 생성한 이미지를 저장할 사설 Registry 를 만든다.
deploy registry 아래와 같이 배포 진행한다.
(osp) root@u-node-0:/etc/kolla# docker run -d -p 4000:5000 --name registry -v /etc/kolla/build:/var/lib/registry registry:2 아래와 같이 insecure-registries 를 설정한다.
추가로 kolla-image 를 pull 받을 node 들도 동일하게 설정을 한다.
(osp) root@u-node-0:/etc/docker# cat /etc/docker/daemon.json {  &#34;insecure-registries&#34; : [&#34;10.10.10.10:4000&#34;] } (osp) root@u-node-0:/etc/docker# Install kolla-build kolla-build 를 사용하기 위해 아래와 같이 pip module 을 설치합니다.
(osp) root@u-node-0:/etc/kolla# pip install kollaCollecting kolla  Downloading kolla-12....</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-21 00:00:00 +0000 UTC'>October 21, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [OpenStack] kolla-build 를 이용한 kolla image build (wallaby)" href="https://chhanz88.github.io/post/2021-10-21-kolla-build/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Kubernetes] kube-prometheus 배포 (use storageclass)
    </h2>
  </header>
  <div class="entry-content">
    <p>kube-prometheus 배포 Kubernetes cluster 를 모니터링 하기 위해 Prometheus 를 구성하고 사용하려고 한다.
Prometheus 에는 다양한 배포 방법이 있으나 이번 글에선 kube-prometheus 를 이용하여 Kubernetes Cluster 에 배포 해보도록 한다.
Kubernetes Cluster 정보 사용된 Kubernetes Cluster 환경은 아래와 같습니다.
root@node1:~# kubectl get nodes -o wide NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME node1 Ready control-plane,master 41d v1.20.7 192.168.200.26 &lt;none&gt; Ubuntu 20.04.2 LTS 5.4.0-80-generic cri-o://1.20.3 node2 Ready control-plane,master 41d v1....</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-30 00:00:00 +0000 UTC'>September 30, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Kubernetes] kube-prometheus 배포 (use storageclass)" href="https://chhanz88.github.io/post/2021-09-30-deploy-kube-prometheus/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[CEPH] Ceph Architecture
    </h2>
  </header>
  <div class="entry-content">
    <p>Ceph 란? Ceph는 오픈소스 소프트웨어(Software Defined Storage) 스토리지 플랫폼으로 단일 분산 컴퓨터 클러스터에 object 스토리지를 구현하고 object, block 및 file Level 의 스토리지 기능을 제공한다.
또한 single point of failure 이 없는 완전히 분산된 운영을 주로 목표로 하며 엑사바이트 수준으로 scale-out이 가능하다.
소프트웨어 정의 스토리지(Software Defined Storage)를 선택해야 하는 이유 소프트웨어 정의 스토리지의 주요 이점은 다음과 같다.
 비용 대비 성능 절충 : 애플리케이션이 동일한 소프트웨어 스택을 사용하여 서로 다른 하드웨어 및 내구성 구성의 성능 및 비용 절충을 선택할 수 있다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-08-18 00:00:00 +0000 UTC'>August 18, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [CEPH] Ceph Architecture" href="https://chhanz88.github.io/post/2021-08-18-ceph-architecture/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Linux] authselect 을 이용하여 faillock module 적용
    </h2>
  </header>
  <div class="entry-content">
    <p>RHEL v8 이후 변경점 RHEL v8 계열(CentOS/Oracle Linux/Rocky Linux) 부터는 이전과 같이 PAM 을 수정하여 설정하는 것을 권장하지 않습니다.
[root@chhanz-c8-vm ~]# cat /etc/pam.d/system-auth ... # Generated by authselect on Fri Jul 16 13:13:24 2021 # Do not modify this file manually. &lt;&lt;&lt; ... 추가로 RHEL v8 계열부터는 기존에 사용하던 보안 설정으로 많이 사용 되던 pam_tally2 module 이 deprecated 되었습니다. anthconfig 로 PAM 설정이 가능하였으나, RHEL v8 계열부터 authselect 을 사용하도록 변경 되었습니다....</p>
  </div>
  <footer class="entry-footer"><span title='2021-07-16 00:00:00 +0000 UTC'>July 16, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Linux] authselect 을 이용하여 faillock module 적용" href="https://chhanz88.github.io/post/2021-07-16-authselect-use-faillock/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Linux] du / ncdu 활용
    </h2>
  </header>
  <div class="entry-content">
    <p>du 현재 경로의 사용률을 확인 하는 명령입니다.
[opc@instance-20201011-1438 TEST]$ tree . ├── big1 │ ├── 1g_bigfiles.img │ ├── 1g_bigfiles1.img │ └── 1g_bigfiles2.img ├── big2 │ └── 1g_bigfiles6.img ├── big3 ├── big4 ├── dummyfile1 ├── dummyfile10 ├── dummyfile2 ├── dummyfile3 ├── dummyfile4 ├── dummyfile5 ├── dummyfile6 ├── dummyfile7 ├── dummyfile8 └── dummyfile9 4 directories, 14 files 위와 같은 구조를 가지고 있는 경로에서 du 명령을 사용할 경우,
[opc@instance-20201011-1438 TEST]$ du -h 3.0G ....</p>
  </div>
  <footer class="entry-footer"><span title='2021-05-25 00:00:00 +0000 UTC'>May 25, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Linux] du / ncdu 활용" href="https://chhanz88.github.io/post/2021-05-25-use-du/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[Linux] Yum Group 상세 활용
    </h2>
  </header>
  <div class="entry-content">
    <p>yum group 관련 명령어 Group Package 를 설치 할 때, 주로 이용하는 명령어 입니다.
yum groupinstall , yum groupinfo , yum grouplist 등이 있습니다.
기본 사용법 주로 사용 하는 명령어 몇가지에 대해 알아보자.
yum grouplist 해당 명령은 Group Package 목록 및 설치 가능, 설치됨 여부를 확인 할 수 있습니다.
[root@fastvm-centos-7-6-30 ~]# yum group list hidden ids ... Available Environment Groups:  최소 설치 (minimal)  계산 노드 (compute-node-environment)  인프라 서버 (infrastructure-server-environment)  파일 및 프린트 서버 (file-print-server-environment)  기본 웹 서버 (web-server-environment)  가상화 호스트 (virtualization-host-environment)  서버 - GUI 사용 (graphical-server-environment)  GNOME 데스크탑 (gnome-desktop-environment)  KDE Plasma Workspaces (kde-desktop-environment)  개발 및 창조를 위한 워크스테이션 (developer-workstation-environment) Available Groups:  Anaconda 도구 (anaconda-tools)  CentOS Linux Client product core (client-product)  CentOS Linux ComputeNode product core (computenode-product)  CentOS Linux Server product core (server-product)  CentOS Linux Workstation product core (workstation-product)  Common NetworkManager submodules (networkmanager-submodules)  DNS 네임 서버 (dns-server)  FTP 서버 (ftp-server)  GNOME (gnome-desktop)  GNOME 응용 프로그램 (gnome-apps)  Hyper-v platform specific packages (platform-microsoft)  ID 관리 서버 (identity-management-server)  Infiniband 지원 (infiniband) ....</p>
  </div>
  <footer class="entry-footer"><span title='2021-05-25 00:00:00 +0000 UTC'>May 25, 2021</span>&nbsp;·&nbsp;chhanz</footer>
  <a class="entry-link" aria-label="post link to [Linux] Yum Group 상세 활용" href="https://chhanz88.github.io/post/2021-05-25-yum-groupinstall/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://chhanz88.github.io/">« Prev Page</a>
    <a class="next" href="https://chhanz88.github.io/page/3/">Next Page »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chhanz88.github.io">chhanz 기술 블로그
</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
