<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>[Linux] ipmitool 사용법 | chhanz 기술 블로그
</title>
<meta name="keywords" content="linux">
<meta name="description" content="매번 잊어버려서 따로 정리함.
 ipmitool 설치 아래 명령을 통해 ipmitool 명령을 설치 할 수 있다.
  RHEL/CentOS/Rocky 계열
$ sudo yum install ipmitool or $ sudo dnf install ipmitool   Ubuntu
$ sudo apt install ipmitool   IPMI 정보 확인 아래 명령을 통해 IPMI 정보를 확인 할 수 있다.
$ ipmitool lan print [&lt;channel num&gt;] Set in Progress : Set Complete Auth Type Support : NONE MD5 PASSWORD Auth Type Enable : Callback : MD5 PASSWORD  : User : MD5 PASSWORD  : Operator : MD5 PASSWORD  : Admin : MD5 PASSWORD  : OEM : IP Address Source : Static Address IP Address : 222.">
<meta name="author" content="chhanz">
<link rel="canonical" href="https://chhanz88.github.io/post/2022-03-01-ipmitool/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" type="image/png" href="https://chhanz88.github.io/favicon.ico">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="[Linux] ipmitool 사용법" />
<meta property="og:description" content="매번 잊어버려서 따로 정리함.
 ipmitool 설치 아래 명령을 통해 ipmitool 명령을 설치 할 수 있다.
  RHEL/CentOS/Rocky 계열
$ sudo yum install ipmitool or $ sudo dnf install ipmitool   Ubuntu
$ sudo apt install ipmitool   IPMI 정보 확인 아래 명령을 통해 IPMI 정보를 확인 할 수 있다.
$ ipmitool lan print [&lt;channel num&gt;] Set in Progress : Set Complete Auth Type Support : NONE MD5 PASSWORD Auth Type Enable : Callback : MD5 PASSWORD  : User : MD5 PASSWORD  : Operator : MD5 PASSWORD  : Admin : MD5 PASSWORD  : OEM : IP Address Source : Static Address IP Address : 222." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chhanz88.github.io/post/2022-03-01-ipmitool/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-03-01T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-03-01T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Linux] ipmitool 사용법"/>
<meta name="twitter:description" content="매번 잊어버려서 따로 정리함.
 ipmitool 설치 아래 명령을 통해 ipmitool 명령을 설치 할 수 있다.
  RHEL/CentOS/Rocky 계열
$ sudo yum install ipmitool or $ sudo dnf install ipmitool   Ubuntu
$ sudo apt install ipmitool   IPMI 정보 확인 아래 명령을 통해 IPMI 정보를 확인 할 수 있다.
$ ipmitool lan print [&lt;channel num&gt;] Set in Progress : Set Complete Auth Type Support : NONE MD5 PASSWORD Auth Type Enable : Callback : MD5 PASSWORD  : User : MD5 PASSWORD  : Operator : MD5 PASSWORD  : Admin : MD5 PASSWORD  : OEM : IP Address Source : Static Address IP Address : 222."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://chhanz88.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "[Linux] ipmitool 사용법",
      "item": "https://chhanz88.github.io/post/2022-03-01-ipmitool/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "[Linux] ipmitool 사용법",
  "name": "[Linux] ipmitool 사용법",
  "description": "매번 잊어버려서 따로 정리함.\n ipmitool 설치 아래 명령을 통해 ipmitool 명령을 설치 할 수 있다.\n  RHEL/CentOS/Rocky 계열\n$ sudo yum install ipmitool or $ sudo dnf install ipmitool   Ubuntu\n$ sudo apt install ipmitool   IPMI 정보 확인 아래 명령을 통해 IPMI 정보를 확인 할 수 있다.\n$ ipmitool lan print [\u0026lt;channel num\u0026gt;] Set in Progress : Set Complete Auth Type Support : NONE MD5 PASSWORD Auth Type Enable : Callback : MD5 PASSWORD  : User : MD5 PASSWORD  : Operator : MD5 PASSWORD  : Admin : MD5 PASSWORD  : OEM : IP Address Source : Static Address IP Address : 222.",
  "keywords": [
    "linux"
  ],
  "articleBody": " 매번 잊어버려서 따로 정리함.\n ipmitool 설치 아래 명령을 통해 ipmitool 명령을 설치 할 수 있다.\n  RHEL/CentOS/Rocky 계열\n$ sudo yum install ipmitool or $ sudo dnf install ipmitool   Ubuntu\n$ sudo apt install ipmitool   IPMI 정보 확인 아래 명령을 통해 IPMI 정보를 확인 할 수 있다.\n$ ipmitool lan print [] Set in Progress : Set Complete Auth Type Support : NONE MD5 PASSWORD Auth Type Enable : Callback : MD5 PASSWORD  : User : MD5 PASSWORD  : Operator : MD5 PASSWORD  : Admin : MD5 PASSWORD  : OEM : IP Address Source : Static Address IP Address : 222.222.222.222 Subnet Mask : 255.255.255.255 MAC Address : xx:xx:xx:xx:xx:xx SNMP Community String : BMC ARP Control : ARP Responses Enabled, Gratuitous ARP Disabled Default Gateway IP : 222.222.222.222 802.1q VLAN ID : Disabled 802.1q VLAN Priority : 0 RMCP+ Cipher Suites : 0,1,2,3 Cipher Suite Priv Max : XuuaXXXXXXXXXXX  : X=Cipher Suite Unused  : c=CALLBACK  : u=USER  : o=OPERATOR  : a=ADMIN  : O=OEM Bad Password Threshold : Not Available IPMI IP 설정 아래와 같이 ipmitool 명령을 이용하여 IPMI 에 Remote 접근 IP 를 설정 할 수 있다.\n$ ipmitool lan set ipsrc static $ ipmitool lan set ipaddr $ ipmitool lan set netmask $ ipmitool lan set defgw ipaddr $ ipmitool lan set access on 위와 같이 IP 설정 이후, IPMI 를 재시작 해야 정상적으로 작동한다.\n$ ipmitool bmc reset cold IPMI User 확인 아래 명령을 통해 IPMI 의 User 를 확인 할 수 있다.\n$ ipmitool user list ID Name Callin Link Auth IPMI Msg Channel Priv Limit 1 true false false NO ACCESS 2 Administrator true false true ADMINISTRATOR 3 (Empty User) true false true NO ACCESS 4 (Empty User) true false true NO ACCESS 5 (Empty User) true false true NO ACCESS 6 (Empty User) true false true NO ACCESS 7 (Empty User) true false true NO ACCESS 8 (Empty User) true false true NO ACCESS 9 (Empty User) true false true NO ACCESS 10 (Empty User) true false true NO ACCESS 11 (Empty User) true false true NO ACCESS 12 (Empty User) true false true NO ACCESS 13 (Empty User) true false true NO ACCESS IPMI User Control 아래 명령을 통해 User 생성이 가능하다.\n$ ipmitool user set name [] 아래 명령을 통해 생성한 User 의 Password 를 설정 할 수 있다.\n$ ipmitool user set password [] 아래 명령을 통해 User 에 권한을 부여 할 수 있다.\n$ ipmitool user priv [] privilege level 목록은 아래와 같다.\nPossible privilege levels are:  1 Callback level  2 User level  3 Operator level  4 Administrator level  5 OEM Proprietary level  15 No access Administrator 권한을 부여하기 위해서는 4 를 사용하면 된다.\nIPMI Power Control 아래 명령을 통해 system power status 를 확인 할 수 있다.\n$ ipmitool chassis status System Power : on Power Overload : false Power Interlock : inactive Main Power Fault : false Power Control Fault : false Power Restore Policy : previous Last Power Event : Chassis Intrusion : inactive Front-Panel Lockout : inactive Drive Fault : false Cooling/Fan Fault : false Front Panel Control : none $ ipmitool chassis power status Chassis Power is on 아래 명령을 통해 system power on / off 를 진행 할 수 있다.\n$ ipmitool chassis power IPMI System Event Log 아래 명령을 통해 system event log 를 확인 할 수 있다.\n$ ipmitool sel list  1 | Pre-Init |0000000156| System ACPI Power State #0xaa | S0/G0: working | Asserted  2 | Pre-Init |0000000190| System ACPI Power State #0xaa | S4/S5: soft-off | Asserted ... 생략 IPMI Sensor Data Repository 아래 명령을 통해 Sensor Data Repository 를 확인 할 수 있다.\n$ ipmitool sdr list UID | 0x00 | ok SysHealth_Stat | 0x00 | ok 01-Inlet Ambient | 24 degrees C | ok 02-CPU 1 | 40 degrees C | ok 03-P1 DIMM 1-8 | 35 degrees C | ok 04-P1 DIMM 9-16 | 36 degrees C | ok 05-HD Max | disabled | ns 06-Exp Bay Drive | disabled | ns 07-VR P1 | 48 degrees C | ok 08-VR P1 Mem 1 | 46 degrees C | ok 09-VR P1 Mem 2 | 44 degrees C | ok 10-Stor Batt | disabled | ns 11-BMC | 61 degrees C | ok 12-BMC Zone | 37 degrees C | ok 13-Battery Zone | 36 degrees C | ok 14-System Board | 33 degrees C | ok ... 생략 IPMI FRU List 아래 명령을 통해 system part 의 fru 를 확인 할 수 있다.\n$ ipmitool fru list FRU Device Description : Builtin FRU Device (ID 0)  Chassis Type : Rack Mount Chassis  Chassis Serial : xxxxxxxxxx  Board Mfg Date : Wed xxx xx xx:xx:xx xxxx  Board Mfg : HPE  Board Product : ProLiant DLxxx Genxx  Board Serial : xxxxxxxxxx  Board Part Number : P01234-B12  Product Manufacturer : HPE  Product Name : ProLiant DLxxx Genxx  Product Part Number : P01234-B12  Product Serial : xxxxxxxxxx  FRU Device Description : BMC CONTROLLER (ID 238)  Product Manufacturer : HPE  Product Name : BMC CONTROLLER  Product Part Number : iLO 5 ... 생략 Remote 접근 아래 명령을 통해 Remote 에서 IPMI Control 이 가능하다.\n$ ipmitool -I lanplus -U -P -H [-p ] chassis power status Chassis Power is on 참고 문서  https://www.thomas-krenn.com/en/wiki/Configuring_IPMI_under_Linux_using_ipmitool  ",
  "wordCount" : "914",
  "inLanguage": "en",
  "datePublished": "2022-03-01T00:00:00Z",
  "dateModified": "2022-03-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "chhanz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chhanz88.github.io/post/2022-03-01-ipmitool/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "chhanz 기술 블로그\n",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chhanz88.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chhanz88.github.io" accesskey="h" title="chhanz 기술 블로그
 (Alt + H)">chhanz 기술 블로그
</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chhanz88.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      [Linux] ipmitool 사용법
    </h1>
    <div class="post-meta"><span title='2022-03-01 00:00:00 +0000 UTC'>March 1, 2022</span>&nbsp;·&nbsp;chhanz

</div>
  </header> 
  <div class="post-content"><blockquote>
<p>매번 잊어버려서 따로 정리함.</p>
</blockquote>
<h1 id="ipmitool-설치"><code>ipmitool</code> 설치<a hidden class="anchor" aria-hidden="true" href="#ipmitool-설치">#</a></h1>
<p>아래 명령을 통해 <code>ipmitool</code> 명령을 설치 할 수 있다.</p>
<ul>
<li>
<p>RHEL/CentOS/Rocky 계열</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo yum install ipmitool
</span></span><span style="display:flex;"><span>or
</span></span><span style="display:flex;"><span>$ sudo dnf install ipmitool
</span></span></code></pre></div></li>
<li>
<p>Ubuntu</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo apt install ipmitool
</span></span></code></pre></div></li>
</ul>
<h1 id="ipmi-정보-확인">IPMI 정보 확인<a hidden class="anchor" aria-hidden="true" href="#ipmi-정보-확인">#</a></h1>
<p>아래 명령을 통해 IPMI 정보를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool lan print <span style="color:#f92672">[</span>&lt;channel num&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Set in Progress         : Set Complete
</span></span><span style="display:flex;"><span>Auth Type Support       : NONE MD5 PASSWORD 
</span></span><span style="display:flex;"><span>Auth Type Enable        : Callback : MD5 PASSWORD
</span></span><span style="display:flex;"><span>                        : User     : MD5 PASSWORD
</span></span><span style="display:flex;"><span>                        : Operator : MD5 PASSWORD
</span></span><span style="display:flex;"><span>                        : Admin    : MD5 PASSWORD
</span></span><span style="display:flex;"><span>                        : OEM      :
</span></span><span style="display:flex;"><span>IP Address Source       : Static Address
</span></span><span style="display:flex;"><span>IP Address              : 222.222.222.222
</span></span><span style="display:flex;"><span>Subnet Mask             : 255.255.255.255
</span></span><span style="display:flex;"><span>MAC Address             : xx:xx:xx:xx:xx:xx
</span></span><span style="display:flex;"><span>SNMP Community String   :
</span></span><span style="display:flex;"><span>BMC ARP Control         : ARP Responses Enabled, Gratuitous ARP Disabled
</span></span><span style="display:flex;"><span>Default Gateway IP      : 222.222.222.222
</span></span><span style="display:flex;"><span>802.1q VLAN ID          : Disabled
</span></span><span style="display:flex;"><span>802.1q VLAN Priority    : <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>RMCP+ Cipher Suites     : 0,1,2,3
</span></span><span style="display:flex;"><span>Cipher Suite Priv Max   : XuuaXXXXXXXXXXX
</span></span><span style="display:flex;"><span>                        :     X<span style="color:#f92672">=</span>Cipher Suite Unused
</span></span><span style="display:flex;"><span>                        :     c<span style="color:#f92672">=</span>CALLBACK
</span></span><span style="display:flex;"><span>                        :     u<span style="color:#f92672">=</span>USER
</span></span><span style="display:flex;"><span>                        :     o<span style="color:#f92672">=</span>OPERATOR
</span></span><span style="display:flex;"><span>                        :     a<span style="color:#f92672">=</span>ADMIN
</span></span><span style="display:flex;"><span>                        :     O<span style="color:#f92672">=</span>OEM
</span></span><span style="display:flex;"><span>Bad Password Threshold  : Not Available
</span></span></code></pre></div><h1 id="ipmi-ip-설정">IPMI IP 설정<a hidden class="anchor" aria-hidden="true" href="#ipmi-ip-설정">#</a></h1>
<p>아래와 같이 <code>ipmitool</code> 명령을 이용하여 IPMI 에 Remote 접근 IP 를 설정 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool lan set &lt;channel num&gt; ipsrc static
</span></span><span style="display:flex;"><span>$ ipmitool lan set &lt;channel num&gt; ipaddr &lt;IPMI Remote IP&gt;
</span></span><span style="display:flex;"><span>$ ipmitool lan set &lt;channel num&gt; netmask &lt;IPMI Subnet&gt;
</span></span><span style="display:flex;"><span>$ ipmitool lan set &lt;channel num&gt; defgw ipaddr &lt;IPMI Gateway IP&gt;
</span></span><span style="display:flex;"><span>$ ipmitool lan set &lt;channel num&gt; access on
</span></span></code></pre></div><p>위와 같이 IP 설정 이후, IPMI 를 재시작 해야 정상적으로 작동한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool bmc reset cold
</span></span></code></pre></div><h1 id="ipmi-user-확인">IPMI User 확인<a hidden class="anchor" aria-hidden="true" href="#ipmi-user-확인">#</a></h1>
<p>아래 명령을 통해 IPMI 의 User 를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool user list &lt;channel num&gt;
</span></span><span style="display:flex;"><span>ID  Name             Callin  Link Auth  IPMI Msg   Channel Priv Limit
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>                    true    false      false      NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>   Administrator    true    false      true       ADMINISTRATOR
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span>   <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>  <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span>  <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">12</span>  <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">13</span>  <span style="color:#f92672">(</span>Empty User<span style="color:#f92672">)</span>     true    false      true       NO ACCESS
</span></span></code></pre></div><h1 id="ipmi-user-control">IPMI User Control<a hidden class="anchor" aria-hidden="true" href="#ipmi-user-control">#</a></h1>
<p>아래 명령을 통해 User 생성이 가능하다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool user set name &lt;user id&gt; &lt;user name&gt; <span style="color:#f92672">[</span>&lt;channel num&gt;<span style="color:#f92672">]</span> 
</span></span></code></pre></div><p>아래 명령을 통해 생성한 User 의 Password 를 설정 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool user set password &lt;user id&gt; <span style="color:#f92672">[</span>&lt;channel num&gt;<span style="color:#f92672">]</span> 
</span></span></code></pre></div><p>아래 명령을 통해 User 에 권한을 부여 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$  ipmitool user priv &lt;user id&gt; &lt;privilege level&gt; <span style="color:#f92672">[</span>&lt;channel num&gt;<span style="color:#f92672">]</span> 
</span></span></code></pre></div><p>privilege level 목록은 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>Possible privilege levels are:
</span></span><span style="display:flex;"><span>   1   Callback level
</span></span><span style="display:flex;"><span>   2   User level
</span></span><span style="display:flex;"><span>   3   Operator level
</span></span><span style="display:flex;"><span>   4   Administrator level
</span></span><span style="display:flex;"><span>   5   OEM Proprietary level
</span></span><span style="display:flex;"><span>  15   No access
</span></span></code></pre></div><p>Administrator 권한을 부여하기 위해서는 <code>4</code> 를 사용하면 된다.</p>
<h1 id="ipmi-power-control">IPMI Power Control<a hidden class="anchor" aria-hidden="true" href="#ipmi-power-control">#</a></h1>
<p>아래 명령을 통해 system power status 를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool chassis status
</span></span><span style="display:flex;"><span>System Power         : on
</span></span><span style="display:flex;"><span>Power Overload       : false
</span></span><span style="display:flex;"><span>Power Interlock      : inactive
</span></span><span style="display:flex;"><span>Main Power Fault     : false
</span></span><span style="display:flex;"><span>Power Control Fault  : false
</span></span><span style="display:flex;"><span>Power Restore Policy : previous
</span></span><span style="display:flex;"><span>Last Power Event     :
</span></span><span style="display:flex;"><span>Chassis Intrusion    : inactive
</span></span><span style="display:flex;"><span>Front-Panel Lockout  : inactive
</span></span><span style="display:flex;"><span>Drive Fault          : false
</span></span><span style="display:flex;"><span>Cooling/Fan Fault    : false
</span></span><span style="display:flex;"><span>Front Panel Control  : none
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool chassis power status
</span></span><span style="display:flex;"><span>Chassis Power is on
</span></span></code></pre></div><p>아래 명령을 통해 system power on / off 를 진행 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool chassis power &lt;on | off&gt;
</span></span></code></pre></div><h1 id="ipmi-system-event-log">IPMI System Event Log<a hidden class="anchor" aria-hidden="true" href="#ipmi-system-event-log">#</a></h1>
<p>아래 명령을 통해 system event log 를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool sel list
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">1</span> |  Pre-Init  |0000000156| System ACPI Power State <span style="color:#75715e">#0xaa | S0/G0: working | Asserted</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">2</span> |  Pre-Init  |0000000190| System ACPI Power State <span style="color:#75715e">#0xaa | S4/S5: soft-off | Asserted</span>
</span></span><span style="display:flex;"><span>... 생략
</span></span></code></pre></div><h1 id="ipmi-sensor-data-repository">IPMI Sensor Data Repository<a hidden class="anchor" aria-hidden="true" href="#ipmi-sensor-data-repository">#</a></h1>
<p>아래 명령을 통해 Sensor Data Repository 를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool sdr list
</span></span><span style="display:flex;"><span>UID              | 0x00              | ok
</span></span><span style="display:flex;"><span>SysHealth_Stat   | 0x00              | ok
</span></span><span style="display:flex;"><span>01-Inlet Ambient | <span style="color:#ae81ff">24</span> degrees C      | ok
</span></span><span style="display:flex;"><span>02-CPU <span style="color:#ae81ff">1</span>         | <span style="color:#ae81ff">40</span> degrees C      | ok
</span></span><span style="display:flex;"><span>03-P1 DIMM 1-8   | <span style="color:#ae81ff">35</span> degrees C      | ok
</span></span><span style="display:flex;"><span>04-P1 DIMM 9-16  | <span style="color:#ae81ff">36</span> degrees C      | ok
</span></span><span style="display:flex;"><span>05-HD Max        | disabled          | ns
</span></span><span style="display:flex;"><span>06-Exp Bay Drive | disabled          | ns
</span></span><span style="display:flex;"><span>07-VR P1         | <span style="color:#ae81ff">48</span> degrees C      | ok
</span></span><span style="display:flex;"><span>08-VR P1 Mem <span style="color:#ae81ff">1</span>   | <span style="color:#ae81ff">46</span> degrees C      | ok
</span></span><span style="display:flex;"><span>09-VR P1 Mem <span style="color:#ae81ff">2</span>   | <span style="color:#ae81ff">44</span> degrees C      | ok
</span></span><span style="display:flex;"><span>10-Stor Batt     | disabled          | ns
</span></span><span style="display:flex;"><span>11-BMC           | <span style="color:#ae81ff">61</span> degrees C      | ok
</span></span><span style="display:flex;"><span>12-BMC Zone      | <span style="color:#ae81ff">37</span> degrees C      | ok
</span></span><span style="display:flex;"><span>13-Battery Zone  | <span style="color:#ae81ff">36</span> degrees C      | ok
</span></span><span style="display:flex;"><span>14-System Board  | <span style="color:#ae81ff">33</span> degrees C      | ok
</span></span><span style="display:flex;"><span>... 생략
</span></span></code></pre></div><h1 id="ipmi-fru-list">IPMI FRU List<a hidden class="anchor" aria-hidden="true" href="#ipmi-fru-list">#</a></h1>
<p>아래 명령을 통해 system part 의 fru 를 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool fru list
</span></span><span style="display:flex;"><span>FRU Device Description : Builtin FRU Device <span style="color:#f92672">(</span>ID 0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> Chassis Type          : Rack Mount Chassis
</span></span><span style="display:flex;"><span> Chassis Serial        : xxxxxxxxxx
</span></span><span style="display:flex;"><span> Board Mfg Date        : Wed xxx xx xx:xx:xx xxxx
</span></span><span style="display:flex;"><span> Board Mfg             : HPE
</span></span><span style="display:flex;"><span> Board Product         : ProLiant DLxxx Genxx
</span></span><span style="display:flex;"><span> Board Serial          : xxxxxxxxxx
</span></span><span style="display:flex;"><span> Board Part Number     : P01234-B12
</span></span><span style="display:flex;"><span> Product Manufacturer  : HPE
</span></span><span style="display:flex;"><span> Product Name          : ProLiant DLxxx Genxx
</span></span><span style="display:flex;"><span> Product Part Number   : P01234-B12
</span></span><span style="display:flex;"><span> Product Serial        : xxxxxxxxxx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FRU Device Description : BMC CONTROLLER <span style="color:#f92672">(</span>ID 238<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> Product Manufacturer  : HPE
</span></span><span style="display:flex;"><span> Product Name          : BMC CONTROLLER
</span></span><span style="display:flex;"><span> Product Part Number   : iLO <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>... 생략
</span></span></code></pre></div><h1 id="remote-접근">Remote 접근<a hidden class="anchor" aria-hidden="true" href="#remote-접근">#</a></h1>
<p>아래 명령을 통해 Remote 에서 IPMI Control 이 가능하다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ipmitool -I lanplus -U &lt;user id&gt; -P &lt;user passwd&gt; -H &lt;IPMI IP&gt; <span style="color:#f92672">[</span>-p &lt;IPMI Port&gt;<span style="color:#f92672">]</span> chassis power status
</span></span><span style="display:flex;"><span>Chassis Power is on
</span></span></code></pre></div><h1 id="참고-문서">참고 문서<a hidden class="anchor" aria-hidden="true" href="#참고-문서">#</a></h1>
<ul>
<li><a href="https://www.thomas-krenn.com/en/wiki/Configuring_IPMI_under_Linux_using_ipmitool">https://www.thomas-krenn.com/en/wiki/Configuring_IPMI_under_Linux_using_ipmitool</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://chhanz88.github.io/tags/linux/">linux</a></li>
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="chhanz88/chhanz88.github.io"
        issue-term="title"
        label="question"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chhanz88.github.io">chhanz 기술 블로그
</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
