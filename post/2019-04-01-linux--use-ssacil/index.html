<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>[Linux] CentOS 7 HP SSACLI Command 사용법 | chhanz 기술 블로그
</title>
<meta name="keywords" content="linux">
<meta name="description" content=" ">
<meta name="author" content="chhanz">
<link rel="canonical" href="https://chhanz88.github.io/post/2019-04-01-linux--use-ssacil/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" type="image/png" href="https://chhanz88.github.io/favicon.ico">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="[Linux] CentOS 7 HP SSACLI Command 사용법" />
<meta property="og:description" content=" " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chhanz88.github.io/post/2019-04-01-linux--use-ssacil/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-04-01T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2019-04-01T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Linux] CentOS 7 HP SSACLI Command 사용법"/>
<meta name="twitter:description" content=" "/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://chhanz88.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "[Linux] CentOS 7 HP SSACLI Command 사용법",
      "item": "https://chhanz88.github.io/post/2019-04-01-linux--use-ssacil/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "[Linux] CentOS 7 HP SSACLI Command 사용법",
  "name": "[Linux] CentOS 7 HP SSACLI Command 사용법",
  "description": " ",
  "keywords": [
    "linux"
  ],
  "articleBody": "[Linux] CentOS 7 HP SSACLI Command 사용법  벤더(IBM,HP,Dell 등) 의 x86 하드웨어에서는 Linux 운영체제 상에서 하드웨어 레이드 컨트롤러의 상태를 확인 할 수 있는 도구들을 제공하고 있습니다.\nHP의 경우, Smart Storage Adminstrator 관리 명령어를 제공하고 있습니다.\n(예전에는 hpssacli, hpasucil 와 같은 명령어였습니다.)\n현재는 ssacli 로 변경 되었으며, Linux 운영체제상에서 하드웨어 RAID 구성, 상태 확인, 변경등이 가능하도록 지원하는 HP 에서 제공되는 관리 도구 입니다.\nSSACLI 설치  Download : HP Support Link\n# yum -y install ssacli-3.40-3.0.x86_64.rpm Loaded plugins: fastestmirror Examining ssacli-3.40-3.0.x86_64.rpm: ssacli-3.40-3.0.x86_64 Marking ssacli-3.40-3.0.x86_64.rpm to be installed Resolving Dependencies -- Running transaction check --- Package ssacli.x86_64 0:3.40-3.0 will be installed -- Finished Dependency Resolution  Dependencies Resolved  ===================================================================================================================================================================================================================================================================================================  Package Arch Version Repository Size =================================================================================================================================================================================================================================================================================================== Installing:  ssacli x86_64 3.40-3.0 /ssacli-3.40-3.0.x86_64 39 M  Transaction Summary =================================================================================================================================================================================================================================================================================================== Install 1 Package  Total size: 39 M Installed size: 39 M Downloading packages: Running transaction check Running transaction test Transaction test succeeded Running transaction  Installing : ssacli-3.40-3.0.x86_64 1/1   Verifying : ssacli-3.40-3.0.x86_64 1/1  Installed:  ssacli.x86_64 0:3.40-3.0  Complete! SSACLI을 이용하여 하드웨어 확인  컨트롤러 상세 상태 확인 # ssacli ctrl all show detail  Smart Array P410i in Slot 0 (Embedded)  Bus Interface: PCI  Slot: 0  Serial Number: 50014380095F6F00  Cache Serial Number: PACCQID11492789  Controller Status: OK  Hardware Revision: C  Firmware Version: 6.40-0  Firmware Supports Online Firmware Activation: False  Rebuild Priority: Medium  Expand Priority: Medium  Surface Scan Delay: 15 secs  Surface Scan Mode: Idle  Parallel Surface Scan Supported: No  Queue Depth: Automatic  Monitor and Performance Delay: 60 min  Elevator Sort: Enabled  Degraded Performance Optimization: Disabled  Wait for Cache Room: Disabled  Surface Analysis Inconsistency Notification: Disabled  Post Prompt Timeout: 0 secs  Cache Board Present: True  Cache Status: OK  Cache Ratio: 100% Read / 0% Write  Drive Write Cache: Disabled  Total Cache Size: 0.2  Total Cache Memory Available: 0.1  No-Battery Write Cache: Disabled  SATA NCQ Supported: True  Number of Ports: 2 Internal only  Encryption: Not Set  Driver Name: hpsa  Driver Version: 3.4.18  Driver Supports SSD Smart Path: True  PCI Address (Domain:Bus:Device.Function): 0000:05:00.0  Port Max Phy Rate Limiting Supported: False  Host Serial Number: SGH033XJT1  Sanitize Erase Supported: False  Primary Boot Volume: None  Secondary Boot Volume: None 전체 Logical Drive 상태 확인 # ssacli ctrl slot=0 ld all show  Smart Array P410i in Slot 0 (Embedded)   Array A   logicaldrive 1 (279.37 GB, RAID 1, OK)   Array B   logicaldrive 2 (558.88 GB, RAID 0, OK)   Array C   logicaldrive 3 (558.88 GB, RAID 0, OK)   Array D   logicaldrive 4 (447.10 GB, RAID 0, Failed) 특정 Logical Drive 상태 확인 아래와 같이 특정 Lofical Drive 의 상태 및 Linux 에서 사용되는 Disk Label, Physical Drive 정보를 확인 할 수 있습니다.\n# ssacli ctrl slot=0 ld 1 show  Smart Array P410i in Slot 0 (Embedded)   Array A   Logical Drive: 1  Size: 279.37 GB  Fault Tolerance: 1  Heads: 255  Sectors Per Track: 32  Cylinders: 65535  Strip Size: 256 KB  Full Stripe Size: 256 KB  Status: OK  Unrecoverable Media Errors: None  Caching: Enabled  Unique Identifier: 600508B1001C5D5CE92263CB4F53A2B0  Disk Name: /dev/sda  Mount Points: /boot 1024 MB Partition Number 1  OS Status: LOCKED  Logical Drive Label: AB1AB56550014380095F6F00F968  Mirror Group 1:  physicaldrive 1I:1:1 (port 1I:box 1:bay 1, SAS HDD, 300 GB, OK)  Mirror Group 2:  physicaldrive 1I:1:2 (port 1I:box 1:bay 2, SAS HDD, 300 GB, OK)  Drive Type: Data  LD Acceleration Method: Controller Cache 전체 Physical Drive 상태 확인 # ssacli ctrl slot=0 pd all show  Smart Array P410i in Slot 0 (Embedded)   Array A   physicaldrive 1I:1:1 (port 1I:box 1:bay 1, SAS HDD, 300 GB, OK)  physicaldrive 1I:1:2 (port 1I:box 1:bay 2, SAS HDD, 300 GB, OK)   Array B   physicaldrive 1I:1:3 (port 1I:box 1:bay 3, SAS HDD, 600 GB, OK)   Array C   physicaldrive 1I:1:4 (port 1I:box 1:bay 4, SAS HDD, 600 GB, OK)   Array D   physicaldrive 2I:1:5 (port 2I:box 1:bay 5, SAS HDD, 146 GB, Failed) Physical Drive 상태 확인 아래와 같이 특정 Physical Drive의 상태를 확인 할 수 있습니다.\n테스트에 사용된 Disk는 장애가 발생되어 Failed 로 상태가 나오고 있습니다.\n# ssacli ctrl slot=0 pd 2I:1:5 show  Smart Array P410i in Slot 0 (Embedded)   Array D   physicaldrive 2I:1:5  Port: 2I  Box: 1  Bay: 5  Status: Failed  Last Failure Reason: Init drive type mix  Drive Type: Data Drive  Interface Type: SAS  Size: 146 GB  Drive exposed to OS: False  Logical/Physical Block Size: 512/512  Rotational Speed: 10000  Firmware Revision: HPDE  Serial Number: 6SD2S3R40000B132J1A9  WWID: 5000C50033CD8419  Model: HP EG0146FAWHU  PHY Count: 2  PHY Transfer Rate: 6.0Gbps, Unknown  Sanitize Erase Supported: False  Shingled Magnetic Recording Support: None 위와 같이 다양하게 하드웨어 RAID를 확인 할 수 있습니다.\n또한 Array(Logical Drive) 생성 및 삭제, 기타 컨트롤러 설정이 Linux 운영체제 안에서 설정이 가능합니다.\n# ssacli help  CLI Syntax  A typical SSACLI command line consists of three parts: a target device,  a command, and a parameter with values if necessary. Using angle brackets to  denote a required variable and plain brackets to denote an optional  variable, the structure of a typical SSACLI command line is as follows:     [parameter=value]    is of format:  [controller all|slot=#|serialnumber=#]  [array all|]  [physicaldrive all|allunassigned|[#:]#:#|[#:]#:#-[#:]#:#]  [ssdphysicaldrive all|allunassigned|[#:]#:#|[#:]#:#-[#:]#:#]  [logicaldrive all|#]  [enclosure all|#:#|serialnumber=#]  [licensekey all|]  [ssdinfo]  [tapedrive all]  Note 1: The #:#:# syntax is only needed for systems that  specify port:box:bay. Other physical drive targeting  schemes are box:bay and port:id.   Example targets:  (\"CN0\" is a sample port name that may be different depending on the  controller)  controller slot=5  controller serialnumber=P21DA2322S  controller slot=7 array A  controller slot=5 logicaldrive 5  controller slot=5 physicaldrive 1:5  controller slot=5 physicaldrive CN0:2:3  controller slot=5 ssdphysicaldrive all  controller slot=5 tapedrive all  controller slot=5 enclosure CN0:1 show  controller slot=5 licensekey XXXXX-XXXXX-XXXXX-XXXXX-XXXXX  For detailed command information type any of the following:  help add  help create  help delete  help diag  help flash  help heal  help modify  help remove  help shorthand  help show  help target  help rescan  help version   참고 자료  HP SSA Document : https://support.hpe.com/hpsc/doc/public/display?docId=c03909334\nHP Support Page : https://support.hpe.com/hpesc/public/home\n추가로 기타 다른 벤더에서도 제공하는 도구는 아래와 같습니다.\n사용 방법도 위와 비슷한 환경으로 되어 있습니다.\nIBM, Lenovo : https://support.lenovo.com/kr/ko/downloads/ds031558\nDell/EMC : https://www.dell.com/support/article/kr/ko/krdhs1/sln283135/how-to-use-the-poweredge-raid-controller-perc-command-line-interface-cli-utility-to-manage-your-raid-controller?lang=en\n",
  "wordCount" : "960",
  "inLanguage": "en",
  "datePublished": "2019-04-01T00:00:00Z",
  "dateModified": "2019-04-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "chhanz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chhanz88.github.io/post/2019-04-01-linux--use-ssacil/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "chhanz 기술 블로그\n",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chhanz88.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chhanz88.github.io/" accesskey="h" title="chhanz 기술 블로그
 (Alt + H)">chhanz 기술 블로그
</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chhanz88.github.io/archives" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/links/" title="Links">
                    <span>Links</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      [Linux] CentOS 7 HP SSACLI Command 사용법
    </h1>
    <div class="post-description">
       
    </div>
    <div class="post-meta"><span title='2019-04-01 00:00:00 +0000 UTC'>April 1, 2019</span>&nbsp;·&nbsp;chhanz

</div>
  </header> 
  <div class="post-content"><h1 id="linux-centos-7-hp-ssacli-command-사용법">[Linux] CentOS 7 HP SSACLI Command 사용법<a hidden class="anchor" aria-hidden="true" href="#linux-centos-7-hp-ssacli-command-사용법">#</a></h1>
<hr>
<p>벤더(IBM,HP,Dell 등) 의 x86 하드웨어에서는 Linux 운영체제 상에서 하드웨어 레이드 컨트롤러의 상태를 확인 할 수 있는 도구들을 제공하고 있습니다.<br>
HP의 경우, Smart Storage Adminstrator 관리 명령어를 제공하고 있습니다.<br>
(예전에는 hpssacli, hpasucil 와 같은 명령어였습니다.)<br>
현재는 ssacli 로 변경 되었으며, Linux 운영체제상에서 하드웨어 RAID 구성, 상태 확인, 변경등이 가능하도록 지원하는 HP 에서 제공되는 관리 도구 입니다.</p>
<h1 id="ssacli-설치">SSACLI 설치<a hidden class="anchor" aria-hidden="true" href="#ssacli-설치">#</a></h1>
<hr>
<p>Download : <a href="https://support.hpe.com/hpsc/swd/public/detail?sp4ts.oid=null&amp;swItemId=MTX_688838b13b194c7abe1aa98584&amp;swEnvOid=4184#tab1">HP Support Link</a></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># yum -y install ssacli-3.40-3.0.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>Loaded plugins: fastestmirror
</span></span><span style="display:flex;"><span>Examining ssacli-3.40-3.0.x86_64.rpm: ssacli-3.40-3.0.x86_64
</span></span><span style="display:flex;"><span>Marking ssacli-3.40-3.0.x86_64.rpm to be installed
</span></span><span style="display:flex;"><span>Resolving Dependencies
</span></span><span style="display:flex;"><span>--&gt; Running transaction check
</span></span><span style="display:flex;"><span>---&gt; Package ssacli.x86_64 0:3.40-3.0 will be installed
</span></span><span style="display:flex;"><span>--&gt; Finished Dependency Resolution
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Dependencies Resolved
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">===================================================================================================================================================================================================================================================================================================</span>
</span></span><span style="display:flex;"><span> Package                                                           Arch                                                              Version                                                              Repository                                                                          Size
</span></span><span style="display:flex;"><span><span style="color:#f92672">===================================================================================================================================================================================================================================================================================================</span>
</span></span><span style="display:flex;"><span>Installing:
</span></span><span style="display:flex;"><span> ssacli                                                            x86_64                                                            3.40-3.0                                                             /ssacli-3.40-3.0.x86_64                                                             <span style="color:#ae81ff">39</span> M
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Transaction Summary
</span></span><span style="display:flex;"><span><span style="color:#f92672">===================================================================================================================================================================================================================================================================================================</span>
</span></span><span style="display:flex;"><span>Install  <span style="color:#ae81ff">1</span> Package
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Total size: <span style="color:#ae81ff">39</span> M
</span></span><span style="display:flex;"><span>Installed size: <span style="color:#ae81ff">39</span> M
</span></span><span style="display:flex;"><span>Downloading packages:
</span></span><span style="display:flex;"><span>Running transaction check
</span></span><span style="display:flex;"><span>Running transaction test
</span></span><span style="display:flex;"><span>Transaction test succeeded
</span></span><span style="display:flex;"><span>Running transaction
</span></span><span style="display:flex;"><span>  Installing : ssacli-3.40-3.0.x86_64                                                                                                                                                                                                                                                          1/1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Verifying  : ssacli-3.40-3.0.x86_64                                                                                                                                                                                                                                                          1/1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Installed:
</span></span><span style="display:flex;"><span>  ssacli.x86_64 0:3.40-3.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Complete!
</span></span></code></pre></div><h1 id="ssacli을-이용하여-하드웨어-확인">SSACLI을 이용하여 하드웨어 확인<a hidden class="anchor" aria-hidden="true" href="#ssacli을-이용하여-하드웨어-확인">#</a></h1>
<hr>
<h2 id="컨트롤러-상세-상태-확인">컨트롤러 상세 상태 확인<a hidden class="anchor" aria-hidden="true" href="#컨트롤러-상세-상태-확인">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli ctrl all show detail</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Smart Array P410i in Slot <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>Embedded<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   Bus Interface: PCI
</span></span><span style="display:flex;"><span>   Slot: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>   Serial Number: 50014380095F6F00
</span></span><span style="display:flex;"><span>   Cache Serial Number: PACCQID11492789
</span></span><span style="display:flex;"><span>   Controller Status: OK
</span></span><span style="display:flex;"><span>   Hardware Revision: C
</span></span><span style="display:flex;"><span>   Firmware Version: 6.40-0
</span></span><span style="display:flex;"><span>   Firmware Supports Online Firmware Activation: False
</span></span><span style="display:flex;"><span>   Rebuild Priority: Medium
</span></span><span style="display:flex;"><span>   Expand Priority: Medium
</span></span><span style="display:flex;"><span>   Surface Scan Delay: <span style="color:#ae81ff">15</span> secs
</span></span><span style="display:flex;"><span>   Surface Scan Mode: Idle
</span></span><span style="display:flex;"><span>   Parallel Surface Scan Supported: No
</span></span><span style="display:flex;"><span>   Queue Depth: Automatic
</span></span><span style="display:flex;"><span>   Monitor and Performance Delay: <span style="color:#ae81ff">60</span>  min
</span></span><span style="display:flex;"><span>   Elevator Sort: Enabled
</span></span><span style="display:flex;"><span>   Degraded Performance Optimization: Disabled
</span></span><span style="display:flex;"><span>   Wait <span style="color:#66d9ef">for</span> Cache Room: Disabled
</span></span><span style="display:flex;"><span>   Surface Analysis Inconsistency Notification: Disabled
</span></span><span style="display:flex;"><span>   Post Prompt Timeout: <span style="color:#ae81ff">0</span> secs
</span></span><span style="display:flex;"><span>   Cache Board Present: True
</span></span><span style="display:flex;"><span>   Cache Status: OK
</span></span><span style="display:flex;"><span>   Cache Ratio: 100% Read / 0% Write
</span></span><span style="display:flex;"><span>   Drive Write Cache: Disabled
</span></span><span style="display:flex;"><span>   Total Cache Size: 0.2
</span></span><span style="display:flex;"><span>   Total Cache Memory Available: 0.1
</span></span><span style="display:flex;"><span>   No-Battery Write Cache: Disabled
</span></span><span style="display:flex;"><span>   SATA NCQ Supported: True
</span></span><span style="display:flex;"><span>   Number of Ports: <span style="color:#ae81ff">2</span> Internal only
</span></span><span style="display:flex;"><span>   Encryption: Not Set
</span></span><span style="display:flex;"><span>   Driver Name: hpsa
</span></span><span style="display:flex;"><span>   Driver Version: 3.4.18
</span></span><span style="display:flex;"><span>   Driver Supports SSD Smart Path: True
</span></span><span style="display:flex;"><span>   PCI Address <span style="color:#f92672">(</span>Domain:Bus:Device.Function<span style="color:#f92672">)</span>: 0000:05:00.0
</span></span><span style="display:flex;"><span>   Port Max Phy Rate Limiting Supported: False
</span></span><span style="display:flex;"><span>   Host Serial Number: SGH033XJT1
</span></span><span style="display:flex;"><span>   Sanitize Erase Supported: False
</span></span><span style="display:flex;"><span>   Primary Boot Volume: None
</span></span><span style="display:flex;"><span>   Secondary Boot Volume: None
</span></span></code></pre></div><h2 id="전체-logical-drive-상태-확인">전체 Logical Drive 상태 확인<a hidden class="anchor" aria-hidden="true" href="#전체-logical-drive-상태-확인">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli ctrl slot=0 ld all show</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Smart Array P410i in Slot <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>Embedded<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array A
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      logicaldrive <span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>279.37 GB, RAID 1, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array B
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      logicaldrive <span style="color:#ae81ff">2</span> <span style="color:#f92672">(</span>558.88 GB, RAID 0, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array C
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      logicaldrive <span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>558.88 GB, RAID 0, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array D
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      logicaldrive <span style="color:#ae81ff">4</span> <span style="color:#f92672">(</span>447.10 GB, RAID 0, Failed<span style="color:#f92672">)</span>
</span></span></code></pre></div><h2 id="특정-logical-drive-상태-확인">특정 Logical Drive 상태 확인<a hidden class="anchor" aria-hidden="true" href="#특정-logical-drive-상태-확인">#</a></h2>
<p>아래와 같이 특정 Lofical Drive 의 상태 및 Linux 에서 사용되는 Disk Label, Physical Drive 정보를 확인 할 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli ctrl slot=0 ld 1 show</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Smart Array P410i in Slot <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>Embedded<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array A
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      Logical Drive: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>         Size: 279.37 GB
</span></span><span style="display:flex;"><span>         Fault Tolerance: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>         Heads: <span style="color:#ae81ff">255</span>
</span></span><span style="display:flex;"><span>         Sectors Per Track: <span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span>         Cylinders: <span style="color:#ae81ff">65535</span>
</span></span><span style="display:flex;"><span>         Strip Size: <span style="color:#ae81ff">256</span> KB
</span></span><span style="display:flex;"><span>         Full Stripe Size: <span style="color:#ae81ff">256</span> KB
</span></span><span style="display:flex;"><span>         Status: OK
</span></span><span style="display:flex;"><span>         Unrecoverable Media Errors: None
</span></span><span style="display:flex;"><span>         Caching:  Enabled
</span></span><span style="display:flex;"><span>         Unique Identifier: 600508B1001C5D5CE92263CB4F53A2B0
</span></span><span style="display:flex;"><span>         Disk Name: /dev/sda
</span></span><span style="display:flex;"><span>         Mount Points: /boot <span style="color:#ae81ff">1024</span> MB Partition Number <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>         OS Status: LOCKED
</span></span><span style="display:flex;"><span>         Logical Drive Label: AB1AB56550014380095F6F00F968
</span></span><span style="display:flex;"><span>         Mirror Group 1:
</span></span><span style="display:flex;"><span>            physicaldrive 1I:1:1 <span style="color:#f92672">(</span>port 1I:box 1:bay 1, SAS HDD, <span style="color:#ae81ff">300</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>         Mirror Group 2:
</span></span><span style="display:flex;"><span>            physicaldrive 1I:1:2 <span style="color:#f92672">(</span>port 1I:box 1:bay 2, SAS HDD, <span style="color:#ae81ff">300</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>         Drive Type: Data
</span></span><span style="display:flex;"><span>         LD Acceleration Method: Controller Cache
</span></span></code></pre></div><h2 id="전체-physical-drive-상태-확인">전체 Physical Drive 상태 확인<a hidden class="anchor" aria-hidden="true" href="#전체-physical-drive-상태-확인">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli ctrl slot=0 pd all show</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Smart Array P410i in Slot <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>Embedded<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array A
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      physicaldrive 1I:1:1 <span style="color:#f92672">(</span>port 1I:box 1:bay 1, SAS HDD, <span style="color:#ae81ff">300</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      physicaldrive 1I:1:2 <span style="color:#f92672">(</span>port 1I:box 1:bay 2, SAS HDD, <span style="color:#ae81ff">300</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array B
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      physicaldrive 1I:1:3 <span style="color:#f92672">(</span>port 1I:box 1:bay 3, SAS HDD, <span style="color:#ae81ff">600</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array C
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      physicaldrive 1I:1:4 <span style="color:#f92672">(</span>port 1I:box 1:bay 4, SAS HDD, <span style="color:#ae81ff">600</span> GB, OK<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array D
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      physicaldrive 2I:1:5 <span style="color:#f92672">(</span>port 2I:box 1:bay 5, SAS HDD, <span style="color:#ae81ff">146</span> GB, Failed<span style="color:#f92672">)</span>
</span></span></code></pre></div><h2 id="physical-drive-상태-확인">Physical Drive 상태 확인<a hidden class="anchor" aria-hidden="true" href="#physical-drive-상태-확인">#</a></h2>
<p>아래와 같이 특정 Physical Drive의 상태를 확인 할 수 있습니다.<br>
테스트에 사용된 Disk는 장애가 발생되어 Failed 로 상태가 나오고 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli ctrl slot=0 pd 2I:1:5 show</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Smart Array P410i in Slot <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>Embedded<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Array D
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      physicaldrive 2I:1:5
</span></span><span style="display:flex;"><span>         Port: 2I
</span></span><span style="display:flex;"><span>         Box: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>         Bay: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>         Status: Failed
</span></span><span style="display:flex;"><span>         Last Failure Reason: Init drive type mix
</span></span><span style="display:flex;"><span>         Drive Type: Data Drive
</span></span><span style="display:flex;"><span>         Interface Type: SAS
</span></span><span style="display:flex;"><span>         Size: <span style="color:#ae81ff">146</span> GB
</span></span><span style="display:flex;"><span>         Drive exposed to OS: False
</span></span><span style="display:flex;"><span>         Logical/Physical Block Size: 512/512
</span></span><span style="display:flex;"><span>         Rotational Speed: <span style="color:#ae81ff">10000</span>
</span></span><span style="display:flex;"><span>         Firmware Revision: HPDE
</span></span><span style="display:flex;"><span>         Serial Number: 6SD2S3R40000B132J1A9
</span></span><span style="display:flex;"><span>         WWID: 5000C50033CD8419
</span></span><span style="display:flex;"><span>         Model: HP      EG0146FAWHU
</span></span><span style="display:flex;"><span>         PHY Count: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>         PHY Transfer Rate: 6.0Gbps, Unknown
</span></span><span style="display:flex;"><span>         Sanitize Erase Supported: False
</span></span><span style="display:flex;"><span>         Shingled Magnetic Recording Support: None
</span></span></code></pre></div><p>위와 같이 다양하게 하드웨어 RAID를 확인 할 수 있습니다.<br>
또한 Array(Logical Drive) 생성 및 삭제, 기타 컨트롤러 설정이 Linux 운영체제 안에서 설정이 가능합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># ssacli help</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CLI Syntax
</span></span><span style="display:flex;"><span>   A typical SSACLI command line consists of three parts: a target device,
</span></span><span style="display:flex;"><span>   a command, and a parameter with values <span style="color:#66d9ef">if</span> necessary. Using angle brackets to
</span></span><span style="display:flex;"><span>   denote a required variable and plain brackets to denote an optional
</span></span><span style="display:flex;"><span>   variable, the structure of a typical SSACLI command line is as follows:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      &lt;target&gt; &lt;command&gt; <span style="color:#f92672">[</span>parameter<span style="color:#f92672">=</span>value<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   &lt;target&gt; is of format:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>controller all|slot<span style="color:#f92672">=</span><span style="color:#75715e">#|serialnumber=#]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>array all|&lt;id&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>physicaldrive all|allunassigned|<span style="color:#f92672">[</span><span style="color:#75715e">#:]#:#|[#:]#:#-[#:]#:#]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>ssdphysicaldrive all|allunassigned|<span style="color:#f92672">[</span><span style="color:#75715e">#:]#:#|[#:]#:#-[#:]#:#]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>logicaldrive all|<span style="color:#75715e">#]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>enclosure all|<span style="color:#75715e">#:#|serialnumber=#]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>licensekey all|&lt;key&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>ssdinfo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>tapedrive all<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      Note 1: The <span style="color:#75715e">#:#:# syntax is only needed for systems that</span>
</span></span><span style="display:flex;"><span>              specify port:box:bay. Other physical drive targeting
</span></span><span style="display:flex;"><span>              schemes are box:bay and port:id.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Example targets:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;CN0&#34;</span> is a sample port name that may be different depending on the
</span></span><span style="display:flex;"><span>   controller<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>      controller serialnumber<span style="color:#f92672">=</span>P21DA2322S
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span> array A
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> logicaldrive <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> physicaldrive 1:5
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> physicaldrive CN0:2:3
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> ssdphysicaldrive all
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> tapedrive all
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> enclosure CN0:1 show
</span></span><span style="display:flex;"><span>      controller slot<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> licensekey XXXXX-XXXXX-XXXXX-XXXXX-XXXXX
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For detailed command information type any of the following:
</span></span><span style="display:flex;"><span>   help add
</span></span><span style="display:flex;"><span>   help create
</span></span><span style="display:flex;"><span>   help delete
</span></span><span style="display:flex;"><span>   help diag
</span></span><span style="display:flex;"><span>   help flash
</span></span><span style="display:flex;"><span>   help heal
</span></span><span style="display:flex;"><span>   help modify
</span></span><span style="display:flex;"><span>   help remove
</span></span><span style="display:flex;"><span>   help shorthand
</span></span><span style="display:flex;"><span>   help show
</span></span><span style="display:flex;"><span>   help target
</span></span><span style="display:flex;"><span>   help rescan
</span></span><span style="display:flex;"><span>   help version
</span></span><span style="display:flex;"><span>   &lt;중략&gt;
</span></span></code></pre></div><h1 id="참고-자료">참고 자료<a hidden class="anchor" aria-hidden="true" href="#참고-자료">#</a></h1>
<hr>
<p>HP SSA Document : <a href="https://support.hpe.com/hpsc/doc/public/display?docId=c03909334">https://support.hpe.com/hpsc/doc/public/display?docId=c03909334</a><br>
HP Support Page : <a href="https://support.hpe.com/hpesc/public/home">https://support.hpe.com/hpesc/public/home</a></p>
<p>추가로 기타 다른 벤더에서도 제공하는 도구는 아래와 같습니다.<br>
사용 방법도 위와 비슷한 환경으로 되어 있습니다.<br>
IBM, Lenovo : <a href="https://support.lenovo.com/kr/ko/downloads/ds031558">https://support.lenovo.com/kr/ko/downloads/ds031558</a><br>
Dell/EMC : <a href="https://www.dell.com/support/article/kr/ko/krdhs1/sln283135/how-to-use-the-poweredge-raid-controller-perc-command-line-interface-cli-utility-to-manage-your-raid-controller?lang=en">https://www.dell.com/support/article/kr/ko/krdhs1/sln283135/how-to-use-the-poweredge-raid-controller-perc-command-line-interface-cli-utility-to-manage-your-raid-controller?lang=en</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://chhanz88.github.io/tags/linux/">linux</a></li>
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="chhanz88/chhanz88.github.io"
        issue-term="title"
        label="question"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chhanz88.github.io/">chhanz 기술 블로그
</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
