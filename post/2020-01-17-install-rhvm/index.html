<!DOCTYPE html>
<html lang="en" dir="auto">

<head><link rel="icon" type="image/png" href="https://chhanz88.github.io/assets/favicon.png">

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chhanz88.github.io" accesskey="h" title="chhanz 기술 블로그
 (Alt + H)">chhanz 기술 블로그
</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chhanz88.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://chhanz88.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      [RHV] Red Hat Virtualization Standalone Manager 설치
    </h1>
    <div class="post-description">
       
    </div>
    <div class="post-meta"><span title='2020-01-17 00:00:00 +0000 UTC'>January 17, 2020</span>&nbsp;·&nbsp;chhanz

</div>
  </header> 
  <div class="post-content"><h1 id="목차">목차<a hidden class="anchor" aria-hidden="true" href="#목차">#</a></h1>
<ul>
<li><a href="/rhv/2020/01/03/install-rhvh/">Red Hat Virtualization Host 설치</a></li>
<li><a href="/rhv/2020/01/17/install-rhvm/">Red Hat Virtualization Standalone Manager 설치</a></li>
<li><a href="/rhv/2020/01/18/install-rhvm-admin/">Red Hat Virtualization Host 추가 및 VM 생성</a></li>
</ul>
<h1 id="red-hat-virtualization-manager-요구-사항">Red Hat Virtualization Manager 요구 사항<a hidden class="anchor" aria-hidden="true" href="#red-hat-virtualization-manager-요구-사항">#</a></h1>
<p>Red Hat Virtualization Manager(이하 RHVM)은 아래와 같은 하드웨어 요구 사항이 있습니다.</p>
<!-- raw HTML omitted -->
<p>참고 자료 : <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.1/html/planning_and_prerequisites_guide/requirements">RHV Document</a></p>
<h1 id="red-hat-virtualization-manager-설치">Red Hat Virtualization Manager 설치<a hidden class="anchor" aria-hidden="true" href="#red-hat-virtualization-manager-설치">#</a></h1>
<p><code>RHVM</code>은 설치 방법이 두가지가 있습니다.<br>
<code>Standalone</code> 방식, <code>Self-Hosted Engine</code> 방식이 있습니다.<br>
이 방식에 대해 간단히 설명을 하면,</p>
<blockquote>
<p><code>Standalone</code> : <code>RHVM</code> 단독 시스템(baremetal)<br>
<code>Self-Hosted Engine</code> : <code>RHVM</code>을 Hypervisior 에 VM으로 배포하고 기동하는 방식<br>
<em><strong>(VMware vCenter Appliance 설치 방식과 동일한 개념입니다.)</strong></em></p>
</blockquote>
<p>이번 테스트는 <code>Standalone</code> 으로 설치 예정입니다.</p>
<h2 id="테스트-시스템-기본-설정-내용">테스트 시스템 기본 설정 내용<a hidden class="anchor" aria-hidden="true" href="#테스트-시스템-기본-설정-내용">#</a></h2>
<ol>
<li><code>/etc/hosts</code> 설정<br>
이번 테스트 시스템은 내부 테스트용으로 DNS 미사용으로 인해 <code>/etc/hosts</code>에 아래와 같이 <code>RHVM</code> 설치에 필요한 DNS 정보를 입력합니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat /etc/hosts</span>
</span></span><span style="display:flex;"><span>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
</span></span><span style="display:flex;"><span>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># RHV</span>
</span></span><span style="display:flex;"><span>192.168.10.225  rhvm.test.com
</span></span><span style="display:flex;"><span>192.168.10.226  rhvh.test.com
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Test-Infra</span>
</span></span><span style="display:flex;"><span>192.168.10.228  nfs.test.com
</span></span><span style="display:flex;"><span>192.168.10.229  repo.test.com
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</span></span></code></pre></div><ol start="2">
<li><code>RHV</code> Subscription 등록 및 Repository 연결</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e"># yum repolist</span>
</span></span><span style="display:flex;"><span>Loaded plugins: search-disabled-repos
</span></span><span style="display:flex;"><span>repo id                                                          repo name                                                        status
</span></span><span style="display:flex;"><span>jb-eap-7.1-for-rhel-7-server-rpms                                jb-eap-7.1-for-rhel-7-server-rpms                                 1,783
</span></span><span style="display:flex;"><span>rhel-7-server-rhv-4-tools-rpms                                   rhel-7-server-rhv-4-tools-rpms                                       <span style="color:#ae81ff">45</span>
</span></span><span style="display:flex;"><span>rhel-7-server-rhv-4.1-manager-rpms                               rhel-7-server-rhv-4.1-manager-rpms                                  <span style="color:#ae81ff">762</span>
</span></span><span style="display:flex;"><span>rhel-7-server-rhv-4.1-rpms                                       rhel-7-server-rhv-4.1-rpms                                          <span style="color:#ae81ff">773</span>
</span></span><span style="display:flex;"><span>rhel-7-server-rpms                                               rhel-7-server-rpms                                               26,742
</span></span><span style="display:flex;"><span>rhel-7-server-supplementary-rpms                                 rhel-7-server-supplementary-rpms                                    <span style="color:#ae81ff">351</span>
</span></span><span style="display:flex;"><span>repolist: 30,456
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</span></span></code></pre></div><ol start="3">
<li><code>firewalld</code> 및 <code>SELinux</code> 설정<br>
<code>firewalld</code> 및 <code>SELinux</code> 설정은 <code>Enable &amp; Enforcing</code> 이 권고이나, 이번 테스트에서는 <code>Disable</code> 하겠습니다.</li>
</ol>
<h2 id="rhvm-설치"><code>RHVM</code> 설치<a hidden class="anchor" aria-hidden="true" href="#rhvm-설치">#</a></h2>
<ul>
<li><code>RHVM</code> Package 설치</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ yum -y install rhevm
</span></span></code></pre></div><ul>
<li><code>RHVM</code> Engine 설치 시작</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ engine-setup
</span></span></code></pre></div><h3 id="설치-과정">설치 과정<a hidden class="anchor" aria-hidden="true" href="#설치-과정">#</a></h3>
<p>아래와 같이 어떻게 설치를 할 것인지 대화형 방식으로 질의하며 설치 진행 됩니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e"># engine-setup</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Initializing
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Environment setup
</span></span><span style="display:flex;"><span>          Configuration files: <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;/etc/ovirt-engine-setup.conf.d/10-packaging-wsp.conf&#39;</span>, <span style="color:#e6db74">&#39;/etc/ovirt-engine-setup.conf.d/10-packaging.conf&#39;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>          Log file: /var/log/ovirt-engine/setup/ovirt-engine-setup-20200117235529-j88sh2.log
</span></span><span style="display:flex;"><span>          Version: otopi-1.6.3 <span style="color:#f92672">(</span>otopi-1.6.3-1.el7ev<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Environment packages setup
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Programs detection
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Environment setup
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Environment customization
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> PRODUCT OPTIONS <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Configure Engine on this host <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Configure Image I/O Proxy on this host? <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Configure WebSocket Proxy on this host <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Please note: Data Warehouse is required <span style="color:#66d9ef">for</span> the engine. 
</span></span><span style="display:flex;"><span>          If you choose to not configure it on this host, you have to configure it on a remote host,
</span></span><span style="display:flex;"><span>          and <span style="color:#66d9ef">then</span> configure the engine on this host so that it can access the database of the remote Data Warehouse host.
</span></span><span style="display:flex;"><span>          Configure Data Warehouse on this host <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Configure VM Console Proxy on this host <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> PACKAGES <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Checking <span style="color:#66d9ef">for</span> product updates...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> No product updates found
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> NETWORK CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Host fully qualified DNS name of this server <span style="color:#f92672">[</span>rhvm.test.com<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;rhvm.test.com 입력&#34;</span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> DATABASE CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Where is the DWH database located? <span style="color:#f92672">(</span>Local, Remote<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Local<span style="color:#f92672">]</span>: &lt;Local 입력&gt;
</span></span><span style="display:flex;"><span>          Setup can configure the local postgresql server automatically <span style="color:#66d9ef">for</span> the DWH to run. This may conflict with existing applications.
</span></span><span style="display:flex;"><span>          Would you like Setup to automatically configure postgresql and create DWH database, or prefer to perform that manually? <span style="color:#f92672">(</span>Automatic, Manual<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Automatic<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Automatic 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Where is the Engine database located? <span style="color:#f92672">(</span>Local, Remote<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Local<span style="color:#f92672">]</span>: &lt;Local 입력&gt;
</span></span><span style="display:flex;"><span>          Setup can configure the local postgresql server automatically <span style="color:#66d9ef">for</span> the engine to run. This may conflict with existing applications.
</span></span><span style="display:flex;"><span>          Would you like Setup to automatically configure postgresql and create Engine database, or prefer to perform that manually? <span style="color:#f92672">(</span>Automatic, Manual<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Automatic<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Automatic 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> OVIRT ENGINE CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Engine admin password: <span style="color:#e6db74">&#34;Password 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Confirm engine admin password: <span style="color:#e6db74">&#34;Password 입력&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>WARNING<span style="color:#f92672">]</span> Password is weak: it is too short
</span></span><span style="display:flex;"><span>          Use weak password? <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>No<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Application mode <span style="color:#f92672">(</span>Virt, Gluster, Both<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Both<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Both 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> STORAGE CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Default SAN wipe after delete <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>No<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;No 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> PKI CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Organization name <span style="color:#66d9ef">for</span> certificate <span style="color:#f92672">[</span>test.com<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;test.com 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> APACHE CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Setup can configure the default page of the web server to present the application home page. This may conflict with existing applications.
</span></span><span style="display:flex;"><span>          Do you wish to set the application as the default page of the web server? <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Yes<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Yes 입력&#34;</span>
</span></span><span style="display:flex;"><span>          Setup can configure apache to use SSL using a certificate issued from the internal CA.
</span></span><span style="display:flex;"><span>          Do you wish Setup to configure that, or prefer to perform that manually? <span style="color:#f92672">(</span>Automatic, Manual<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Automatic<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;Automatic 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> SYSTEM CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Configure an NFS share on this server to be used as an ISO Domain? <span style="color:#f92672">(</span>Yes, No<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>No<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;No 입력&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> MISC CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Please choose Data Warehouse sampling scale:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">(</span>1<span style="color:#f92672">)</span> Basic
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">(</span>2<span style="color:#f92672">)</span> Full
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">(</span>1, 2<span style="color:#f92672">)[</span>1<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;1 선택&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> END OF CONFIGURATION <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Setup validation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> CONFIGURATION PREVIEW <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Application mode                        : both
</span></span><span style="display:flex;"><span>          Default SAN wipe after delete           : False
</span></span><span style="display:flex;"><span>          Update Firewall                         : False
</span></span><span style="display:flex;"><span>          Host FQDN                               : rhvm.test.com
</span></span><span style="display:flex;"><span>          Configure local Engine database         : True
</span></span><span style="display:flex;"><span>          Set application as default page         : True
</span></span><span style="display:flex;"><span>          Configure Apache SSL                    : True
</span></span><span style="display:flex;"><span>          Engine database secured connection      : False
</span></span><span style="display:flex;"><span>          Engine database user name               : engine
</span></span><span style="display:flex;"><span>          Engine database name                    : engine
</span></span><span style="display:flex;"><span>          Engine database host                    : localhost
</span></span><span style="display:flex;"><span>          Engine database port                    : <span style="color:#ae81ff">5432</span>
</span></span><span style="display:flex;"><span>          Engine database host name validation    : False
</span></span><span style="display:flex;"><span>          Engine installation                     : True
</span></span><span style="display:flex;"><span>          PKI organization                        : test.com
</span></span><span style="display:flex;"><span>          DWH installation                        : True
</span></span><span style="display:flex;"><span>          DWH database secured connection         : False
</span></span><span style="display:flex;"><span>          DWH database host                       : localhost
</span></span><span style="display:flex;"><span>          DWH database user name                  : ovirt_engine_history
</span></span><span style="display:flex;"><span>          DWH database name                       : ovirt_engine_history
</span></span><span style="display:flex;"><span>          DWH database port                       : <span style="color:#ae81ff">5432</span>
</span></span><span style="display:flex;"><span>          DWH database host name validation       : False
</span></span><span style="display:flex;"><span>          Configure local DWH database            : True
</span></span><span style="display:flex;"><span>          Configure Image I/O Proxy               : True
</span></span><span style="display:flex;"><span>          Configure VMConsole Proxy               : True
</span></span><span style="display:flex;"><span>          Configure WebSocket Proxy               : True
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          Please confirm installation settings <span style="color:#f92672">(</span>OK, Cancel<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>OK<span style="color:#f92672">]</span>: <span style="color:#e6db74">&#34;OK 입력 후, 설치 시작&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Transaction setup
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping engine service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping ovirt-fence-kdump-listener service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping dwh service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping Image I/O Proxy service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping vmconsole-proxy service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stopping websocket-proxy service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Misc configuration
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Package installation
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Misc configuration
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Upgrading CA
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Initializing PostgreSQL
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating PostgreSQL <span style="color:#e6db74">&#39;engine&#39;</span> database
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Configuring PostgreSQL
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating PostgreSQL <span style="color:#e6db74">&#39;ovirt_engine_history&#39;</span> database
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Configuring PostgreSQL
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating CA
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating/refreshing Engine database schema
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating/refreshing DWH database schema
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Configuring Image I/O Proxy
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Setting up ovirt-vmconsole proxy helper PKI artifacts
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Setting up ovirt-vmconsole SSH PKI artifacts
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Configuring WebSocket Proxy
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Creating/refreshing Engine <span style="color:#e6db74">&#39;internal&#39;</span> domain database schema
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Generating post install configuration file <span style="color:#e6db74">&#39;/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Transaction commit
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Closing up
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Starting engine service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Starting dwh service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Restarting ovirt-vmconsole proxy service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> SUMMARY <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Restarting httpd
</span></span><span style="display:flex;"><span>          In order to configure firewalld, copy the files from
</span></span><span style="display:flex;"><span>              /etc/ovirt-engine/firewalld to /etc/firewalld/services
</span></span><span style="display:flex;"><span>              and execute the following commands:
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-postgres
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-https
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-fence-kdump-listener
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-imageio-proxy
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-websocket-proxy
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-http
</span></span><span style="display:flex;"><span>              firewall-cmd --permanent --add-service ovirt-vmconsole-proxy
</span></span><span style="display:flex;"><span>              firewall-cmd --reload
</span></span><span style="display:flex;"><span>          The following network ports should be opened:
</span></span><span style="display:flex;"><span>              tcp:2222
</span></span><span style="display:flex;"><span>              tcp:443
</span></span><span style="display:flex;"><span>              tcp:5432
</span></span><span style="display:flex;"><span>              tcp:54323
</span></span><span style="display:flex;"><span>              tcp:6100
</span></span><span style="display:flex;"><span>              tcp:80
</span></span><span style="display:flex;"><span>              udp:7410
</span></span><span style="display:flex;"><span>          An example of the required configuration <span style="color:#66d9ef">for</span> iptables can be found at:
</span></span><span style="display:flex;"><span>              /etc/ovirt-engine/iptables.example
</span></span><span style="display:flex;"><span>          Please use the user <span style="color:#e6db74">&#39;admin@internal&#39;</span> and password specified in order to login
</span></span><span style="display:flex;"><span>          Web access is enabled at:
</span></span><span style="display:flex;"><span>              http://rhvm.test.com:80/ovirt-engine
</span></span><span style="display:flex;"><span>              https://rhvm.test.com:443/ovirt-engine
</span></span><span style="display:flex;"><span>          Internal CA 8D:97:91:6E:9B:BD:60:A1:96:2E:5B:26:4E:43:90:04:AF:2D:19:D0
</span></span><span style="display:flex;"><span>          SSH fingerprint: SHA256:6hFsMoHw32C85HfGc/N+GMv4SieCKv4PtBSgz43Jr3I
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          --<span style="color:#f92672">==</span> END OF SUMMARY <span style="color:#f92672">==</span>--
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Clean up
</span></span><span style="display:flex;"><span>          Log file is located at /var/log/ovirt-engine/setup/ovirt-engine-setup-20200117235529-j88sh2.log
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Generating answer file <span style="color:#e6db74">&#39;/var/lib/ovirt-engine/setup/answers/20200117235943-setup.conf&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Pre-termination
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Stage: Termination
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> INFO  <span style="color:#f92672">]</span> Execution of setup completed successfully
</span></span></code></pre></div><p>설치에는 약 20분 정도 소요가 됩니다.(설치 환경에 따라 차이 있음.)</p>
<h2 id="rhvm-서비스-확인"><code>RHVM</code> 서비스 확인<a hidden class="anchor" aria-hidden="true" href="#rhvm-서비스-확인">#</a></h2>
<p>아래와 같이 <code>RHVM</code> Engine 의 서비스 상태를 확인 할 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rhvm ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl status ovirt-engine</span>
</span></span><span style="display:flex;"><span>● ovirt-engine.service - oVirt Engine
</span></span><span style="display:flex;"><span>   Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/ovirt-engine.service; enabled; vendor preset: disabled<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   Active: active <span style="color:#f92672">(</span>running<span style="color:#f92672">)</span> since Fri 2020-01-17 23:59:41 KST; 4min 30s ago
</span></span><span style="display:flex;"><span> Main PID: <span style="color:#ae81ff">19043</span> <span style="color:#f92672">(</span>ovirt-engine.py<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   CGroup: /system.slice/ovirt-engine.service
</span></span><span style="display:flex;"><span>           ├─19043 /usr/bin/python /usr/share/ovirt-engine/services/ovirt-engine/ovirt-engine.py --redirect-output --systemd<span style="color:#f92672">=</span>notify s...
</span></span><span style="display:flex;"><span>           └─19112 ovirt-engine -server -XX:+TieredCompilation -Xms3971M -Xmx3971M -Djava.awt.headless<span style="color:#f92672">=</span>true -Dsun.rmi.dgc.client.gcIn...
</span></span><span style="display:flex;"><span>                                                                                                                                        
</span></span><span style="display:flex;"><span>Jan <span style="color:#ae81ff">17</span> 23:59:40 rhvm.test.com systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting oVirt Engine...
</span></span><span style="display:flex;"><span>Jan <span style="color:#ae81ff">17</span> 23:59:40 rhvm.test.com ovirt-engine.py<span style="color:#f92672">[</span>19043<span style="color:#f92672">]</span>: 2020-01-17 23:59:40,871+0900 ovirt-engine: INFO _detectJBossVersion:187 D...0<span style="color:#e6db74">&#39;, &#39;</span>-
</span></span><span style="display:flex;"><span>Jan <span style="color:#ae81ff">17</span> 23:59:41 rhvm.test.com ovirt-engine.py<span style="color:#f92672">[</span>19043<span style="color:#f92672">]</span>: 2020-01-17 23:59:41,651+0900 ovirt-engine: INFO _detectJBossVersion:207 R...: <span style="color:#e6db74">&#39;[]&#39;</span>
</span></span><span style="display:flex;"><span>Jan <span style="color:#ae81ff">17</span> 23:59:41 rhvm.test.com systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started oVirt Engine.
</span></span><span style="display:flex;"><span>Hint: Some lines were ellipsized, use -l to show in full.
</span></span></code></pre></div><h2 id="rhvm-web-console-접속"><code>RHVM</code> Web Console 접속<a hidden class="anchor" aria-hidden="true" href="#rhvm-web-console-접속">#</a></h2>
<p>아래와 같이 <code>https://rhvm.test.com:443/ovirt-engine</code> 를 통해 접근이 가능합니다.<br>
<code>관리 포탈</code> 을 선택합니다.</p>
<!-- raw HTML omitted -->
<p>설치 과정에서 입력한 <code>admin</code> 계정의 패스워드를 입력합니다.</p>
<!-- raw HTML omitted -->
<p>아래와 같이 <code>RHVM</code> 에 접속 할 수 있습니다.</p>
<!-- raw HTML omitted -->
<h1 id="참고자료">참고자료<a hidden class="anchor" aria-hidden="true" href="#참고자료">#</a></h1>
<ul>
<li><a href="https://access.redhat.com/documentation/ko-kr/red_hat_virtualization/4.1/html/installation_guide/part-installing_red_hat_enterprise_virtualization">https://access.redhat.com/documentation/ko-kr/red_hat_virtualization/4.1/html/installation_guide/part-installing_red_hat_enterprise_virtualization</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://chhanz88.github.io/tags/linux/">linux</a></li>
      <li><a href="https://chhanz88.github.io/tags/RHV/">RHV</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chhanz88.github.io">chhanz 기술 블로그
</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
